<!-- Tabla Listado Expedientes -->
<table
  datatable
  id="files-tbl"
  [dtOptions]="dtOptions"
  [dtTrigger]="dtTrigger"
  class="row-border hover stripe"
  style="width: 100%;"
>
  <thead>
    <tr>
      <th class="files-tbl-intKey-th">Clave Interna</th>
      <th class="files-tbl-extKey-th">Clave Externa</th>
      <th class="files-tbl-client-th">Cliente Asignado</th>
      <th class="files-tbl-affair-th">Asunto</th>
      <th class="files-tbl-actor-th">Actor(es)</th>
      <th class="files-tbl-defendant-th">Demandado(s)</th>
      <th class="files-tbl-third-th">Terceros</th>
      <th class="files-tbl-acc-th all no-sort">Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let file of files">
      <!-- Files IntKey -->
      <td class="files-tbl-intKey-td t-o-h">{{ file?.intKey }}</td>
      <!-- Files ExtKey -->
      <td class="files-tbl-extKey-td t-o-h">
        {{ file?.extKey !== "" ? file?.extKey : "N/E" }}
      </td>
      <!-- Files Assigned Client -->
      <td class="files-tbl-client-td t-o-h">
        {{
          file?.assigned_client?.firstName +
            " " +
            file?.assigned_client?.lastName
        }}
      </td>
      <!-- Files Affair -->
      <td class="files-tbl-affair-td">{{ file?.affair }}</td>
      <!-- Files Actor -->
      <td class="files-tbl-actor-td">{{ file?.actor }}</td>
      <!-- Files Defendant -->
      <td class="files-tbl-defendant-td">{{ file?.defendant }}</td>
      <!-- Files Thirds -->
      <td class="files-tbl-third-td">{{ file?.third }}</td>
      <!-- Files Actions -->
      <td class="files-tbl-acc-td">
        <!-- Actions Dropdown Trigger -->
        <button
          class="btn tbl-action-button waves-effect waves-light indigo darken-1"
          mat-icon-button
          [matMenuTriggerFor]="actionsMenu"
        >
          <i class="material-icons">more_vert</i>
        </button>
        <!-- Actions Dropdown -->
        <mat-menu #actionsMenu="matMenu" xPosition="before">
          <ng-template matMenuContent>
            <div class="dfc">
              <button
                class="modal-trigger"
                mat-menu-item
                href="#modal-Expediente"
                (click)="sendId(file?._id, 'Actualizar')"
              >
                <i class="material-icons" style="color: #3949ab;">edit</i>
                <span>Editar</span>
              </button>
              <button mat-menu-item (click)="delete(file)">
                <i class="material-icons" style="color: #3949ab;">delete</i>
                <span>Eliminar</span>
              </button>
              <button mat-menu-item>
                <i class="material-icons" style="color: #3949ab;"
                  >star_border</i
                >
                <span>Favorito</span>
              </button>
            </div>
          </ng-template>
        </mat-menu>
      </td>
    </tr>
  </tbody>
</table>

<!-- Open Modal Button Trigger -->
<div
  style="bottom: 61px; right: 19px; z-index: 999;"
  class="fixed-action-btn direction-top active"
>
  <a
    class="btn-floating btn-large primary-text gradient-pos-45deg-lighter-blue gradient-shadow modal-trigger"
    href="#modal-Expediente"
    (click)="sendId('', ' Crear')"
  >
    <i class="material-icons">contact_mail</i>
  </a>
</div>
